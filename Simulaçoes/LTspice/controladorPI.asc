Version 4
SHEET 1 964 680
WIRE 64 48 -16 48
WIRE 176 48 112 48
WIRE 304 48 240 48
WIRE 112 80 112 48
WIRE 240 80 240 48
WIRE 64 96 -16 96
WIRE 64 144 0 144
WIRE 0 176 0 144
WIRE 112 176 112 160
WIRE 240 176 240 160
WIRE 0 272 0 256
FLAG -16 48 +
IOPIN -16 48 In
FLAG 112 176 0
FLAG -16 96 -
IOPIN -16 96 In
FLAG 240 176 0
FLAG 176 48 err
FLAG 64 48 ref
FLAG 0 272 0
FLAG 304 48 out
IOPIN 304 48 Out
SYMBOL e2 112 64 R0
WINDOW 3 34 90 Left 2
SYMATTR Value 1
SYMATTR InstName E1
SYMBOL bv 240 64 R0
SYMATTR InstName B1
SYMATTR Value V= limit( min, P*V(err)+I*idt(V(err)), max )
SYMBOL bv 0 160 R0
SYMATTR InstName B2
SYMATTR Value V= limit( min, V(ref), max )
TEXT 456 32 Left 2 !.params P=1\n.params I=0\n.param max=1000\n.param min=0
